
source = "http://192.168.124.1/mal/examples/gut.htm";
//source = "http://www.gutenberg.org/files/31704/31704-h/31704-h.htm";
//source = "http://leyokki.org";

var result = '';

function loadDiv(source)
{
	// example = Load webpage through php
	//$('.page').load('php/grabber.php?url='+source);
	
	// loading webpage from source URL
	$.get('php/grabber.php?url='+source,function(data){
		$('page').html(data);
		result = data;
		// Question : pourquoi result devient inaccessible quand
		// on sort de la fonction?
		parseHTML(result);
	});
}

loadDiv(source);
console.log("donnees : "+result);

function parseHTML(data){
	//function to parse data from url
	// from http://api.jquery.com/jQuery.parseHTML/
	
	console.log("parsing: "+data);
	
	var $log = $("#log"),
	html = $.parseHTML(data),
	nodeNames = [];

	$.each(html,function(i,el){
		nodeNames[i] = "<li>"+el.nodeName + "<li>";
	});

	$log.append("<h3> Nodes </h3>");
	$("<ol></ol>")
		.append(nodeNames.join(""))
		.appendTo($log);
}

